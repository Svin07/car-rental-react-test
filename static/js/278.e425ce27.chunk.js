"use strict";(self.webpackChunkcar_rental_react_test=self.webpackChunkcar_rental_react_test||[]).push([[278],{278:function(e,a,r){r.r(a),r.d(a,{default:function(){return ne}});var t=r(433),n=r(861),s=r(439),i=r(757),c=r.n(i),l=r(791),o=r(119),d="Loader_flexcenter__jlKYo",u=r(184);function m(){return(0,u.jsx)("div",{className:d,children:(0,u.jsx)(o.s5,{visible:!0,height:"96",width:"96",color:"#3470ff",strokeWidth:"5",animationDuration:"0.75",ariaLabel:"rotating-lines-loading",wrapperStyle:{},wrapperClass:""})})}var h=r(243);h.Z.defaults.baseURL="https://65bccb30b51f9b29e9324a6b.mockapi.io/";var p=function(){var e=(0,n.Z)(c().mark((function e(a){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.get("/adverts?search=".concat(a));case 2:return r=e.sent,t=r.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(c().mark((function e(a){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.get("/adverts?page=".concat(a,"&limit=12"));case 2:return r=e.sent,t=r.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(a){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.get("/adverts/?id=".concat(a));case 2:return r=e.sent,t=r.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),_="CarsList_carslist__RboNT",x=r(87),j="MoviesItem_movieGalleryItem__L558b",g="MoviesItem_imgWraper__WBHyw",b="MoviesItem_movieGalleryItemImage__ItP1c",N="MoviesItem_linkDetails__KOogq",y="MoviesItem_titlewraper__VePUg",w="MoviesItem_itemtitle__Uobk+",M="MoviesItem_rentalprice__SjsIJ",S="MoviesItem_text__d+ZLQ",k="MoviesItem_titlespan__4JV3+",F="FavoritIcon_favoriteimg__iNy3e";var Z=r.p+"static/media/normal.282d936f414f4c6884ab9306a91dad67.svg";var I=r.p+"static/media/active.97847e9195943f61800c97807e735d4f.svg";function C(e){var a=e.addToFavorite,r=e.id,t=e.deleteFromFavorite,n=e.favor,i=(0,l.useState)(n),c=(0,s.Z)(i,2),o=c[0],d=c[1];return(0,u.jsx)("div",{children:(0,u.jsx)("img",{onClick:function(){d(!o),o?t(r):a(r)},src:o?I:Z,alt:"Like",className:F})})}function W(e){var a=e.car,r=e.handlySearchfromId,t=e.addToFavorite,n=e.deleteFromFavorite,s=a.img,i=a.id,c=a.year,l=a.make,o=a.model,d=a.type,m=a.rentalPrice,h=a.address,p=a.rentalCompany,v=a.accessories,f=a.isFavorite,_=h.split(",");return(0,u.jsxs)("li",{className:j,children:[(0,u.jsx)(C,{addToFavorite:t,id:i,favor:f,deleteFromFavorite:n}),(0,u.jsx)("div",{className:g,children:(0,u.jsx)("img",{src:s?"".concat(s):"https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700",alt:l,className:b})}),(0,u.jsxs)("div",{className:y,children:[(0,u.jsxs)("h2",{className:w,children:[l," ",(0,u.jsx)("span",{className:k,children:o}),", ",c]}),(0,u.jsx)("h3",{className:M,children:m})]}),(0,u.jsxs)("p",{className:S,children:[_[1]," |",_[2]," | ",p," | ",d," | ",i," |"," ",v[0]]}),(0,u.jsx)(x.Link,{className:N,onClick:function(e){r(i)},children:"Learn more"})]})}function L(e){var a=e.cars,r=e.handlySearchfromId,t=e.addToFavorite,n=e.deleteFromFavorite;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{children:(0,u.jsx)("ul",{className:_,children:a.map((function(e){return(0,u.jsx)(W,{car:e,handlySearchfromId:r,addToFavorite:t,deleteFromFavorite:n},e.id)}))})})})}var T="Search_searchform__E5En1",E="Search_searchbar__uR8cQ",P="Search_searchformbutton__5mLfq",B="Search_searchforminput__GD4dT",R="Search_labelforselect__vPCyy";function G(e){var a=e.handlySetSearchQuery,r=["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land"],t=(0,l.useState)(""),n=(0,s.Z)(t,2),i=n[0],c=n[1],o=(0,l.useState)("null"),d=(0,s.Z)(o,2),m=d[0],h=d[1],p=r.map((function(e,a){return(0,u.jsx)("option",{value:a,children:e},a)}));(0,l.useEffect)((function(){var e=r[m];c(e)}),[m,r]);return(0,u.jsx)("div",{className:E,children:(0,u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(r[m]),a(i)},className:T,children:[(0,u.jsxs)("label",{className:R,htmlFor:"car-select",children:["Car brand",(0,u.jsxs)("select",{name:"Car brand",value:m,onChange:function(e){h(e.target.value)},children:[(0,u.jsx)("option",{value:"null",disabled:!0,children:"Enter the text"}),p]})]}),(0,u.jsxs)("label",{className:R,htmlFor:"",children:["Price/ 1 hour",(0,u.jsx)("select",{name:"Price/ 1 hour"})]}),(0,u.jsxs)("label",{children:["\u0421ar mileage / km",(0,u.jsxs)("div",{className:"labelforinput",children:[(0,u.jsx)("input",{className:B,type:"text",placeholder:"From"}),(0,u.jsx)("input",{className:B,type:"text",placeholder:"To"})]})]}),(0,u.jsx)("button",{type:"submit",className:P,children:"Search"})]})})}var U="Button_Button__Smq3v";function q(e){var a=e.paginationPageUpdate;return(0,u.jsx)("button",{onClick:a,type:"button",className:U,children:"Load more"})}var D="Home_pageBc__MYW9Y",H="ModalWindow_backdrop__Tr-1X",J="ModalWindow_modalwindow__lqhyG",Y="ModalWindow_modalclosebtn__bhWlH",z="ModalWindow_prodactcard__3hFuq",A="ModalWindow_imgWraper__nTRXl",Q="ModalWindow_movieGalleryItemImage__RcDGC",V="ModalWindow_linkDetails__-EvW0",K="ModalWindow_titlewraper__i62J-",O="ModalWindow_itemtitle__F6jsE",X="ModalWindow_rentalprice__EgZ3M",$="ModalWindow_description__JMFVa",ee="ModalWindow_accessories__R9C1M",ae="ModalWindow_text__kam6B",re="ModalWindow_titlespan__bY9v9";function te(e){var a=e.car,r=e.togleModal,t=e.isLoading,n=e.error,s=a.img,i=a.id,c=a.year,l=a.make,o=a.model,d=a.type,h=a.rentalPrice,p=a.address,v=a.description,f=a.functionalities,_=a.accessories,x=a.fuelConsumption,j=a.engineSize,g=a.mileage,b=a.rentalConditions,N=p.split(","),y=b.split("\n");return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:H,children:(0,u.jsxs)("div",{className:J,children:[(0,u.jsx)("button",{type:"button",onClick:r,className:Y,children:(0,u.jsx)("svg",{width:"8",height:"8",children:(0,u.jsx)("img",{src:"/public/x.svg",alt:""})})}),(0,u.jsx)("div",{children:t&&(0,u.jsx)(m,{})}),n&&(0,u.jsx)("h2",{children:n}),(0,u.jsxs)("div",{className:z,children:[(0,u.jsx)("div",{className:A,children:(0,u.jsx)("img",{src:s,alt:l,className:Q})}),(0,u.jsx)("div",{className:K,children:(0,u.jsxs)("h3",{className:O,children:[l," ",(0,u.jsx)("span",{className:re,children:o}),", ",c]})}),(0,u.jsxs)("p",{className:ae,children:[N[1]," |",N[2]," | id:",i," | Year:",c," | Type:",d," ",(0,u.jsx)("br",{})," Fuel Consumption:",x," | Engine Size:",j]}),(0,u.jsx)("h3",{className:$,children:v}),(0,u.jsx)("h4",{className:ee,children:"Accessories and functionalities:"}),(0,u.jsxs)("p",{className:ae,children:[_[0]," | ",_[1]," | ",_[2]]}),(0,u.jsxs)("p",{className:ae,children:[f[0]," | ",f[1]," | ",f[2]]}),(0,u.jsx)("ul",{className:ee,children:"Rental Conditions:"}),(0,u.jsx)("li",{className:X,children:y[0]}),(0,u.jsx)("li",{className:X,children:y[1]}),(0,u.jsx)("li",{className:X,children:y[2]}),(0,u.jsxs)("li",{className:X,children:["Mileage:",(0,u.jsx)("span",{className:re,children:g})]}),(0,u.jsxs)("li",{className:X,children:["Price:",(0,u.jsx)("span",{className:re,children:h})]}),(0,u.jsx)("button",{type:"button",className:V,children:(0,u.jsx)("a",{class:"link mail",href:"tel:+380730000000",children:"Rental car"})})]})]})})})}var ne=function(){var e=(0,l.useState)(!1),a=(0,s.Z)(e,2),r=a[0],i=a[1],o=(0,l.useState)(""),d=(0,s.Z)(o,2),h=d[0],_=d[1],x=(0,l.useState)([]),j=(0,s.Z)(x,2),g=j[0],b=j[1],N=(0,l.useState)({}),y=(0,s.Z)(N,2),w=y[0],M=y[1],S=(0,l.useState)(1),k=(0,s.Z)(S,2),F=k[0],Z=k[1],I=(0,l.useState)(!1),C=(0,s.Z)(I,2),W=C[0],T=C[1],E=(0,l.useState)([]),P=(0,s.Z)(E,2),B=P[0],R=P[1],U=document.body,H=function(){var e=(0,n.Z)(c().mark((function e(){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,v(F);case 4:a=e.sent,b((function(e){return[].concat((0,t.Z)(e),(0,t.Z)(a))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),_(e.t0.response.data.status_message);case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){H()}),[F]);var J=function(){var e=(0,n.Z)(c().mark((function e(a){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(a);case 2:r=e.sent,b((function(e){return r}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Y=function(){T(!W),W?U.classList.remove("disable-scroll"):U.classList.add("disable-scroll")},z=function(){var e=(0,n.Z)(c().mark((function e(a){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=3;break}return console.log("\u041d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0437\u043d\u0430\u0439\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f!"),e.abrupt("return");case 3:return e.prev=3,i(!0),e.next=7,f(a);case 7:r=e.sent,M(r[0]),Y(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),_(e.t0.response.data.status_message);case 15:return e.prev=15,i(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=(0,n.Z)(c().mark((function e(a){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=g.find((function(e){return e.id===a}))).isFavorite=!0,R((function(e){return[].concat((0,t.Z)(e),[r])}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Q=function(){var e=(0,n.Z)(c().mark((function e(a){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=B.filter((function(e){return e.id!==a})),R((function(e){return r}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){console.log(B),function(e,a){try{var r=JSON.stringify(a);localStorage.setItem(e,r)}catch(h){console.error("Set state error: ",h.message)}}("cars",B)}),[B]),(0,u.jsxs)(u.Fragment,{children:[W&&(0,u.jsx)(te,{car:w,togleModal:Y,isLoading:r,error:h}),(0,u.jsx)(G,{handlySetSearchQuery:J}),(0,u.jsx)("div",{children:r&&(0,u.jsx)(m,{})}),h&&(0,u.jsx)("h2",{children:h}),(0,u.jsx)("div",{className:D,children:(0,u.jsx)(L,{addToFavorite:A,deleteFromFavorite:Q,handlySearchfromId:z,cars:g})}),F<3&&(0,u.jsx)(q,{paginationPageUpdate:function(){Z((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=278.e425ce27.chunk.js.map